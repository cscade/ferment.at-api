# ferment.at-api

The official API documentation for the ferment.at cloud logging service.

## Table of Contents

1. Introduction
2. API Versioning
3. Authentication
4. Methods & Response Codes
5. Primary API Endpoints
    * `/touch` - Heartbeat, registration confirmation

## 1. Introduction

The API for ferment.at is currently being designed and implemented. This documentation represents the current state of the API. Changes are a certainty.

The purpose of the API is to allow remote Client(s) at your brewery to store your fermentation data for long term use in the cloud. The API also serves to configure the Client. The Client itself supports minimal local configuration, and requests it's configuration details from the cloud at startup.

All data exchanged with the API is done using JSON, and response bodies will always be JSON. "Accepts" headers are ignored.

## 2. API Versioning

Version 1 is currently in development. Each endpoint URL represents the API version it is working against. Should we need to implement breaking changes in new iterations of the API, the version number will change, but the previous API version will remain available.

For example, the url structure for version 1 looks like this;

    https://api.ferment.at/v1/touch

If we introduce a new api version, the `v1` section of the url will change.

## 3. Authentication

The API is available over https only. We use Bearer token authentication. Each user with a ferment.at account has their own unique API key, which they can regenerate at any time. Their API key, in combination with a Client ID, authenticates Clients to the API. Each Client has a Client ID unique to that user.

Unless specified otherwise, all endpoints in this document require, at a minimum, the following headers to be set for each request:

    Authorization: Bearer [users_private_api_key]
    X-Client-Id: [client_id]

`POST` endpoints also require `Content-type: application/json` to be set.

## 4. Methods & Response Codes

The API responds to HEAD, GET, POST, and DELETE methods, depending on the endpoint.

The following response codes are generated by the endpoints.

* `200 OK` - Indicates a successful action. A response body will be included for all supported methods except HEAD.
* `400 Bad Request` - Indicates a problem with the formatting of the request, such as missing headers, or a non-json body in the case of POST. A response body will indicate the problem.
* `401 Unauthorized` - Indicates that the provided API key is not valid. A response body will not be set.
* `404 Not Found` - Indicates that authentication succeeded, however the provided Client ID is not valid or the requested endpoint does not exist for the method used. A response body will indicate the problem.
* `409 Conflict` - Indicates that the requested operation could not be completed, because another operation of the same type happened simultaneously. The Client should wait a moment and retry the request. A response body will not be set.
* `500 Internal Server Error` - Indicates a server error that could not be recovered. The Client should assume it's request has not been serviced, and attempt the request again later.

## 5. Primary API Endpoints

### a. /touch

> Carson S. Christian <[cc@amplego.com](mailto:cc@amplego.com)>.
